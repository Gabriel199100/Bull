# Create index.html and tokenlist.json prefilled for the user's BULL token

token_address = "0x03dA3fa851894138ec12FE6167fF0229c1F50F05"
logo_url = "https://raw.githubusercontent.com/Gabriel199100/Bull/main/9022e627-eb7e-441d-b2cc-018d882130d6.png"

index_html = f"""<!doctype html>
<html lang="sk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>BULL – Add to MetaMask</title>
  <meta name="description" content="Pridaj si BULL token do MetaMask s logom.">
  <style>
    body {{ font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 2rem; }}
    .card {{ max-width: 640px; border: 1px solid #e5e7eb; border-radius: 16px; padding: 24px; box-shadow: 0 2px 8px rgba(0,0,0,.06);}}
    .btn {{ display:inline-block; padding: 12px 18px; border-radius: 12px; border: 0; background:#6b21a8; color:#fff; font-weight:600; cursor:pointer; }}
    .btn:disabled {{ background:#9ca3af; cursor:not-allowed; }}
    .row {{ display:flex; align-items:center; gap:16px; }}
    img {{ width:64px; height:64px; border-radius:12px; }}
    code {{ background:#f3f4f6; padding:2px 6px; border-radius:6px; }}
  </style>
</head>
<body>
  <div class="card">
    <div class="row">
      <img alt="BULL logo" src="{logo_url}" />
      <div>
        <h1 style="margin:0 0 4px 0;">Bull Token (BULL)</h1>
        <div style="font-size:14px;color:#6b7280;">Polygon • ERC-20 • 18 decimals</div>
      </div>
    </div>
    <p>Adresa kontraktu: <code>{token_address}</code></p>
    <button id="addBtn" class="btn">Add BULL to MetaMask</button>
    <p id="status" style="margin-top:12px;color:#374151;"></p>
  </div>

  <script>
  const tokenAddress = "{token_address}";
  const tokenSymbol = "BULL";
  const tokenDecimals = 18;
  const tokenImage = "{logo_url}";

  const btn = document.getElementById('addBtn');
  const statusEl = document.getElementById('status');

  if (typeof window.ethereum === 'undefined') {{
    btn.disabled = true;
    statusEl.textContent = "MetaMask nebol detegovaný. Otvor stránku v prehliadači s MetaMask (Chrome/Brave/Firefox).";
  }}

  btn.addEventListener('click', async () => {{
    try {{
      const wasAdded = await window.ethereum.request({{
        method: 'wallet_watchAsset',
        params: {{
          type: 'ERC20',
          options: {{ address: tokenAddress, symbol: tokenSymbol, decimals: tokenDecimals, image: tokenImage }}
        }}
      }});
      statusEl.textContent = wasAdded ? "BULL bol pridaný do MetaMask." : "Používateľ zrušil akciu.";
    }} catch(e) {{
      console.error(e);
      statusEl.textContent = "Chyba: " + (e && e.message ? e.message : e);
    }}
  }});
  </script>
</body>
</html>
"""

tokenlist_json = f"""{{
  "name": "Bull Token List",
  "timestamp": "2025-08-10T00:00:00+00:00",
  "tokens": [
    {{
      "chainId": 137,
      "address": "{token_address}",
      "name": "Bull Token",
      "symbol": "BULL",
      "decimals": 18,
      "logoURI": "{logo_url}"
    }}
  ]
}}
"""

with open("/mnt/data/index.html", "w", encoding="utf-8") as f:
    f.write(index_html)

with open("/mnt/data/tokenlist.json", "w", encoding="utf-8") as f:
    f.write(tokenlist_json)

"/mnt/data/index.html", "/mnt/data/tokenlist.json"
